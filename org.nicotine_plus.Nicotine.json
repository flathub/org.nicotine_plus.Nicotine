{
  "app-id": "org.nicotine_plus.Nicotine",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.36",
  "sdk": "org.gnome.Sdk",
  "command": "nicotine",
  "finish-args": [
    "--socket=wayland",
    "--socket=fallback-x11",
    "--socket=pulseaudio",
    "--share=ipc",
    "--share=network",
    "--filesystem=host",
    "--talk-name=org.freedesktop.Notifications",
    "--talk-name=org.kde.StatusNotifierWatcher"
  ],
  "cleanup": [
    "/include",
    "/lib/debug",
    "/lib/pkgconfig",
    "/share/aclocal",
    "/share/info",
    "/share/man",
    "/share/gtk-doc",
    "/share/vala",
    "*.a",
    "*.la"
  ],
  "modules": [
    "shared-modules/libappindicator/libappindicator-gtk3-introspection-12.10.json",
    {
      "name": "gspell",
      "sources": [
        {
          "url": "https://gitlab.gnome.org/GNOME/gspell.git",
          "sha256": "3522ddd143a0e5a89ac9c35e3d96beeb8cf8e965",
          "type": "git"
        }
      ],
      "cleanup": [
        "/bin"
      ]
    },
    {
      "name": "python3-miniupnpc",
      "buildsystem": "simple",
      "sources": [
        {
          "url": "https://files.pythonhosted.org/packages/0c/e8/dbb2747230dfd98a6138cb65b322072eade4d92e1006e518c8711f8f5b85/miniupnpc-2.0.2.tar.gz",
          "sha256": "7ea46c93486fe1bdb31f0e0c2d911d224fce70bf5ea120e4295d647dfe274931",
          "type": "file"
        }
      ],
      "build-commands": [
        "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=\"${FLATPAK_DEST}\" miniupnpc"
      ]
    },
    {
      "name": "python3-mutagen",
      "buildsystem": "simple",
      "sources": [
        {
          "url": "https://files.pythonhosted.org/packages/49/d7/245d48972216d000238d6ccc09142bc1be88e707b38e8fb19a0155292cb6/mutagen-1.44.0-py3-none-any.whl",
          "sha256": "1cfc9f40cc0c89f051e3f3dbd5d9057a193c98433cf6c95e02d7f5a395615c01",
          "type": "file"
        }
      ],
      "build-commands": [
        "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=\"${FLATPAK_DEST}\" mutagen"
      ],
      "cleanup": [
        "/bin"
      ]
    },
    {
      "name": "nicotine",
      "buildsystem": "simple",
      "sources": [
        {
          "url": "https://github.com/nicotine-plus/nicotine-plus.git",
          "commit": "cd4a86481592963e27143147ab01f834e92107a7",
          "type": "git"
        }
      ],
      "build-commands": [
        "python3 setup.py install --prefix=\"${FLATPAK_DEST}\""
      ]
    }
  ]
}
